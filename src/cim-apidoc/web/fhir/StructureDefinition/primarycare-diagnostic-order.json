{
  "id": "primarycare-diagnostic-order",
  "meta": {
    "lastUpdated": "2015-09-22T11:02:49.724+01:00"
  },
  "extension": [
    {
      "Item": 1,
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm"
    }
  ],
  "url": "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-diagnostic-order",
  "name": "PrimaryCare-DiagnosticOrder",
  "display": "Primary Care diagnostic order",
  "status": "draft",
  "publisher": "Endeavour Health Charitable Trust",
  "contact": [
    {
      "telecom": [
        {
          "system": 4,
          "value": "http://www.endeavourhealth.org/"
        }
      ]
    }
  ],
  "date": "2015-11-01T00:00:00+00:00",
  "description": "A record of a request for a diagnostic investigation service to be performed.",
  "fhirVersion": "1.0.1",
  "kind": 1,
  "constrainedType": "DiagnosticOrder",
  "abstract": false,
  "base": "http://hl7.org/fhir/StructureDefinition/DiagnosticOrder",
  "differential": {
    "element": [
      {
        "path": "DiagnosticOrder",
        "short": "A request for a diagnostic service",
        "definition": "A record of a request for a diagnostic investigation service to be performed.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "TypeName": "DiagnosticOrder",
            "code": "DiagnosticOrder"
          }
        ],
        "mapping": [
          {
            "identity": "rim",
            "map": "Observation[classCode=OBS, moodCode=RQO, code<\"diagnostic order\"]"
          },
          {
            "identity": "w5",
            "map": "clinical.diagnostics"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.subject",
        "short": "Who and/or what test is about",
        "definition": "Who or what the investigation is to be performed on. This is usually a human patient, but diagnostic tests can also be requested on animals, groups of humans or animals, devices such as dialysis machines, or even locations (typically for environmental scans).",
        "min": 1,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[typeCode=SBJ].role"
          },
          {
            "identity": "w5",
            "map": "who.focus"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.orderer",
        "short": "Who ordered the test",
        "definition": "The practitioner that holds legal responsibility for ordering the investigation.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[typeCode=AUT].role"
          },
          {
            "identity": "w5",
            "map": "who.actor"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.identifier.assigner",
        "short": "Organization that issued id (may be just text)",
        "definition": "Organization that issued/manages the identifier.",
        "comments": "The reference may be just a text description of the assigner.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-organization"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "CX.4 / (CX.4,CX.9,CX.10)"
          },
          {
            "identity": "rim",
            "map": "II.assigningAuthorityName but note that this is an improper use by the definition of the field.  Also Role.scoper"
          },
          {
            "identity": "servd",
            "map": "./IdentifierIssuingAuthority"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.encounter",
        "short": "The encounter that this diagnostic order is associated with",
        "definition": "An encounter that provides additional information about the healthcare context in which this request is made.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-encounter"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "rim",
            "map": ".inboundRelationship[typeCode=COMP].source[classCode=ENC, moodCode=EVN]"
          },
          {
            "identity": "w5",
            "map": "context"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.supportingInformation",
        "short": "Additional clinical information",
        "definition": "Additional clinical information about the patient or specimen that may influence test interpretations.  This includes observations explicitly requested by the producer(filler) to provide context or supporting information needed to complete the order.",
        "comments": "This information includes diagnosis, clinical findings and other observations.  In laboratory ordering these are typically referred to as \"ask at order entry questions (AOEs)\". Examples include reporting the amount of inspired oxygen for blood gasses, the point in the menstrual cycle for cervical pap tests, and other conditions that influence test interpretations.",
        "alias": [
          "Ask at order entry question",
          "AOE"
        ],
        "min": 0,
        "max": "*",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-observation"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-condition"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-document-reference"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "v2",
            "map": "OBR-13"
          },
          {
            "identity": "rim",
            "map": "outboundRelationship[typeCode=SPRT]/target[classCode=ACT, moodCode=EVN]"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.specimen",
        "short": "If the whole order relates to specific specimens",
        "definition": "One or more specimens that the diagnostic investigation is about.",
        "comments": "Many investigation requests will create a need for specimens, but the request itself is not actually about the specimens. This is provided for when the diagnostic investigation is requested on already existing specimens.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-specimen"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[typeCode=SPC].role"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.event.actor",
        "short": "Who recorded or did this",
        "definition": "The person responsible for performing or recording the action.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-device"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[AUT or PFM]"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.item.code",
        "short": "Code to indicate the item (test or panel) being ordered",
        "definition": "A code that identifies a particular diagnostic investigation, or panel of investigations, that have been requested.",
        "comments": "Many laboratory tests and radiology tests embed the specimen/organ system in the test name, for example,  serum or serum/plasma glucose, or a chest xray. The specimen may not be recorded separately from the test code.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "TypeName": "CodeableConcept",
            "code": "CodeableConcept"
          }
        ],
        "isSummary": true,
        "binding": {
          "strength": 2,
          "description": "Codes for tests/services that can be performed by diagnostic services.",
          "Item": {
            "reference": "http://endeavourhealth.org/fhir/ValueSet/primarycare-diagnostic-order-item-type"
          }
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "OBX-4"
          },
          {
            "identity": "rim",
            "map": ".code"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.item.specimen",
        "short": "If this item relates to specific specimens",
        "definition": "If the item is related to a specific specimen.",
        "comments": "A single specimen should not appear in both DiagnosticOrder.specimen and DiagnosticOrder.item.specimen.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-specimen"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[typeCode=SPC].role"
          }
        ]
      },
      {
        "path": "DiagnosticOrder.note.author[x]",
        "short": "Individual responsible for the annotation",
        "definition": "The individual responsible for making the annotation.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-related-person"
            ]
          },
          {
            "TypeName": "string",
            "code": "string"
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "N/A"
          },
          {
            "identity": "rim",
            "map": "Act.participant[typeCode=AUT].role"
          }
        ]
      }
    ]
  },
  "W5TopLevelGroup": "Clinical"
}