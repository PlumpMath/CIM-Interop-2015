{
  "id": "primarycare-allergy-intolerance",
  "meta": {
    "lastUpdated": "2015-09-22T11:02:49.724+01:00"
  },
  "extension": [
    {
      "Item": 1,
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm"
    }
  ],
  "url": "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-allergy-intolerance",
  "name": "PrimaryCare-AllergyIntolerance",
  "display": "Primary Care allergy intolerance",
  "status": "draft",
  "publisher": "Endeavour Health Charitable Trust",
  "contact": [
    {
      "telecom": [
        {
          "system": 4,
          "value": "http://www.endeavourhealth.org/"
        }
      ]
    }
  ],
  "date": "2015-11-01T00:00:00+00:00",
  "description": "Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.",
  "requirements": "To record a clinical assessment of a propensity, or potential risk to an individual, of an adverse reaction upon future exposure to the specified substance, or class of substance.",
  "fhirVersion": "1.0.1",
  "kind": 1,
  "constrainedType": "AllergyIntolerance",
  "abstract": false,
  "base": "http://hl7.org/fhir/StructureDefinition/AllergyIntolerance",
  "differential": {
    "element": [
      {
        "path": "AllergyIntolerance",
        "short": "Allergy or Intolerance (generally: Risk Of Adverse reaction to a substance)",
        "definition": "Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.",
        "comments": "Substances include, but are not limited to: a therapeutic substance administered correctly at an appropriate dosage for the individual; food; material derived from plants or animals; or venom from insect stings.",
        "alias": [
          "Allergy",
          "Intolerance",
          "Adverse Reaction"
        ],
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "AllergyIntolerance"
          }
        ],
        "mapping": [
          {
            "identity": "w5",
            "map": "clinical.general"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.extension",
        "slicing": {
          "discriminator": [
            "url"
          ],
          "rules": 2
        }
      },
      {
        "path": "AllergyIntolerance.extension",
        "name": "encounter",
        "short": "Encounter during which AllergyIntolerance was recorded",
        "definition": "Encounter event during which this AllergyIntolerance was recorded",
        "comments": "This record indicates the encounter this particular record is associated with.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/encounter-associatedEncounter"
            ]
          }
        ]
      },
      {
        "path": "AllergyIntolerance.identifier.assigner",
        "short": "Organization that issued id (may be just text)",
        "definition": "Organization that issued/manages the identifier.",
        "comments": "The reference may be just a text description of the assigner.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-organization"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "CX.4 / (CX.4,CX.9,CX.10)"
          },
          {
            "identity": "rim",
            "map": "II.assigningAuthorityName but note that this is an improper use by the definition of the field.  Also Role.scoper"
          },
          {
            "identity": "servd",
            "map": "./IdentifierIssuingAuthority"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.recorder",
        "short": "Who recorded the sensitivity",
        "definition": "Individual who recorded the record and takes responsibility for its conten.",
        "alias": [
          "Author"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[typeCode=AUT].role"
          },
          {
            "identity": "w5",
            "map": "who.author"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.patient",
        "short": "Who the sensitivity is for",
        "definition": "The patient who has the allergy or intolerance.",
        "alias": [
          "Patient"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "(PID-3)"
          },
          {
            "identity": "rim",
            "map": ".participation[typeCode=SBJ].role[classCode=PAT]"
          },
          {
            "identity": "w5",
            "map": "who.focus"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.reporter",
        "short": "Source of the information about the allergy",
        "definition": "The source of the information about the allergy that is recorded.",
        "comments": "The recorder takes repsonsibility for the content, but can reference the source from where they got it.",
        "alias": [
          "Source",
          "Informant"
        ],
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-related-person"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "IAM-14 (if patient) / IAM-18 (if practitioner)"
          },
          {
            "identity": "w5",
            "map": "who.source"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.substance",
        "short": "Substance, (or class) considered to be responsible for risk",
        "definition": "Identification of a substance, or a class of substances, that is considered to be responsible for the adverse reaction risk.",
        "comments": "It is strongly recommended that the substance be coded with a terminology, where possible. Plain text should only be used if there is no appropriate terminology available. Additional details about a substance can be specified in the text.",
        "alias": [
          "Agent"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "isSummary": true,
        "binding": {
          "strength": 3,
          "description": "Type of the substance and Negation codes for reporting no known allergies.",
          "Item": {
            "reference": "http://hl7.org/fhir/ValueSet/allergyintolerance-substance-code"
          }
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "AL1-3 / IAM-3"
          },
          {
            "identity": "w5",
            "map": "what"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.substance.coding.extension",
        "slicing": {
          "discriminator": [
            "url"
          ],
          "rules": 2
        }
      },
      {
        "path": "AllergyIntolerance.substance.coding.extension",
        "name": "qualifier",
        "short": "Coding Qualifier",
        "definition": "Used to qualify or indicate extra information about a coded value.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-coding-qualifier-extension"
            ]
          }
        ]
      },
      {
        "path": "AllergyIntolerance.status",
        "short": "active | unconfirmed | confirmed | inactive | resolved | refuted | entered-in-error",
        "definition": "Assertion about certainty associated with the propensity, or potential risk, of a reaction to the identified Substance.",
        "comments": "Decision support would typically raise alerts for 'Unconfirmed', 'Confirmed', and 'Resolved' and ignore a 'Refuted' reaction. In particular, 'Refuted' may be useful for reconciliation of the Adverse Reaction List. Some implementations may choose to make this field mandatory.",
        "alias": [
          "State"
        ],
        "min": 0,
        "max": "0",
        "type": [
          {
            "code": "code"
          }
        ],
        "isModifier": true,
        "isSummary": true,
        "binding": {
          "strength": 0,
          "description": "Assertion about certainty associated with a propensity, or potential risk, of a reaction to the identified Substance.",
          "Item": {
            "reference": "http://hl7.org/fhir/ValueSet/allergy-intolerance-status"
          }
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "IAM-17"
          },
          {
            "identity": "w5",
            "map": "status"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.criticality",
        "short": "CRITL | CRITH | CRITU",
        "definition": "Estimate of the potential clinical harm, or seriousness, of the reaction to the identified Substance.",
        "comments": "The default criticality value for any propensity to an adverse reaction should be 'Low Risk', indicating at the very least a relative contraindication to deliberate or voluntary exposure to the Substance. 'High Risk' is flagged if the clinician has identified a propensity for a more serious or potentially life-threatening reaction, such as anaphylaxis, and implies an absolute contraindication to deliberate or voluntary exposure to the substance. If this element is missing, the criticality is unknown (though it may be known elsewhere).",
        "alias": [
          "Severity",
          "Seriousness",
          "Contra-indication",
          "Risk"
        ],
        "min": 0,
        "max": "0",
        "type": [
          {
            "code": "code"
          }
        ],
        "isSummary": true,
        "binding": {
          "strength": 0,
          "description": "Estimate of the potential clinical harm, or seriousness, of a reaction to an identified Substance.",
          "Item": {
            "reference": "http://hl7.org/fhir/ValueSet/allergy-intolerance-criticality"
          }
        },
        "mapping": [
          {
            "identity": "w5",
            "map": "grade"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.type",
        "short": "allergy | intolerance - Underlying mechanism (if known)",
        "definition": "Identification of the underlying physiological mechanism for the reaction risk.",
        "comments": "Allergic (typically immune-mediated) reactions have been traditionally regarded as an indicator for potential escalation to significant future risk. Contemporary knowledge suggests that some reactions previously thought to be immune-mediated are, in fact, non-immune, but in some cases can still pose a life threatening risk. It is acknowledged that many clinicians may not be in a position to distinguish the mechanism of a particular reaction. Often the term \"allergy\" is used rather generically and may overlap with the use of \"intolerance\" - in practice the boundaries between these two concepts may not be well-defined or understood. This data element is included nevertheless, because many legacy systems have captured this attribute. Immunologic testing may provide supporting evidence for the basis of the reaction and the causative substance, but no tests are 100% sensitive or specific for sensitivity to a particular substance. If, as is commonly the case, it is unclear whether the reaction is due to an allergy or an intolerance, then the type element should be omitted from the resource.",
        "alias": [
          "Category",
          "Class"
        ],
        "min": 0,
        "max": "0",
        "type": [
          {
            "code": "code"
          }
        ],
        "isSummary": true,
        "binding": {
          "strength": 0,
          "description": "Identification of the underlying physiological mechanism for a Reaction Risk.",
          "Item": {
            "reference": "http://hl7.org/fhir/ValueSet/allergy-intolerance-type"
          }
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "IAM-9"
          },
          {
            "identity": "w5",
            "map": "class"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.category",
        "short": "food | medication | environment | other - Category of Substance",
        "definition": "Category of the identified Substance.",
        "comments": "This data element has been included because it is currently being captured in some clinical systems. This data can be derived from the Substance where coding systems are used, and is effectively redundant in that situation.",
        "alias": [
          "Category",
          "Type",
          "Reaction Type",
          "Class"
        ],
        "min": 0,
        "max": "0",
        "type": [
          {
            "code": "code"
          }
        ],
        "isSummary": true,
        "binding": {
          "strength": 0,
          "description": "Category of an identified Substance.",
          "Item": {
            "reference": "http://hl7.org/fhir/ValueSet/allergy-intolerance-category"
          }
        },
        "mapping": [
          {
            "identity": "w5",
            "map": "class"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.lastOccurence",
        "short": "Date(/time) of last known occurrence of a reaction",
        "definition": "Represents the date and/or time of the last known occurrence of a reaction event.",
        "comments": "This date may be replicated by one of the Onset of Reaction dates. Where a textual representation of the date of last occurrence is required e.g. 'In Childhood, '10 years ago' the Comment element should be used.",
        "min": 0,
        "max": "0",
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "isSummary": true
      },
      {
        "path": "AllergyIntolerance.note.author[x]",
        "short": "Individual responsible for the annotation",
        "definition": "The individual responsible for making the annotation.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-related-person"
            ]
          },
          {
            "code": "string"
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "N/A"
          },
          {
            "identity": "rim",
            "map": "Act.participant[typeCode=AUT].role"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.note.text",
        "short": "The annotation - text content",
        "definition": "The text of the annotation.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "N/A"
          },
          {
            "identity": "rim",
            "map": "Act.text"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.reaction",
        "short": "Adverse Reaction Events linked to exposure to substance",
        "definition": "Details about each adverse reaction event linked to exposure to the identified Substance.",
        "min": 0,
        "max": "0",
        "type": [
          {
            "code": "BackboneElement"
          }
        ]
      }
    ]
  },
  "W5TopLevelGroup": "Clinical"
}