{
  "id": "primarycare-allergy-intolerance",
  "meta": {
    "lastUpdated": "2015-09-22T11:02:49.724+01:00"
  },
  "extension": [
    {
      "Item": 1,
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm"
    }
  ],
  "url": "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-allergy-intolerance",
  "name": "PrimaryCare-AllergyIntolerance",
  "display": "Primary Care allergy intolerance",
  "status": "draft",
  "publisher": "Endeavour Health Charitable Trust",
  "contact": [
    {
      "telecom": [
        {
          "system": 4,
          "value": "http://www.endeavourhealth.org/"
        }
      ]
    }
  ],
  "date": "2015-11-01T00:00:00+00:00",
  "description": "Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.",
  "requirements": "To record a clinical assessment of a propensity, or potential risk to an individual, of an adverse reaction upon future exposure to the specified substance, or class of substance.",
  "fhirVersion": "1.0.1",
  "kind": 1,
  "constrainedType": "AllergyIntolerance",
  "abstract": false,
  "base": "http://hl7.org/fhir/StructureDefinition/AllergyIntolerance",
  "differential": {
    "element": [
      {
        "path": "AllergyIntolerance",
        "short": "Allergy or Intolerance (generally: Risk Of Adverse reaction to a substance)",
        "definition": "Risk of harmful or undesirable, physiological response which is unique to an individual and associated with exposure to a substance.",
        "comments": "Substances include, but are not limited to: a therapeutic substance administered correctly at an appropriate dosage for the individual; food; material derived from plants or animals; or venom from insect stings.",
        "alias": [
          "Allergy",
          "Intolerance",
          "Adverse Reaction"
        ],
        "min": 0,
        "max": "*",
        "type": [
          {
            "TypeName": "AllergyIntolerance",
            "code": "AllergyIntolerance"
          }
        ],
        "mapping": [
          {
            "identity": "w5",
            "map": "clinical.general"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.extension",
        "slicing": {
          "discriminator": [
            "url"
          ],
          "rules": 2
        }
      },
      {
        "path": "AllergyIntolerance.extension",
        "name": "encounter",
        "short": "Encounter during which AllergyIntolerance was recorded",
        "definition": "Encounter event during which this AllergyIntolerance was recorded",
        "comments": "This record indicates the encounter this particular record is associated with.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Extension",
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/encounter-associatedEncounter"
            ]
          }
        ]
      },
      {
        "path": "AllergyIntolerance.identifier.assigner",
        "short": "Organization that issued id (may be just text)",
        "definition": "Organization that issued/manages the identifier.",
        "comments": "The reference may be just a text description of the assigner.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-organization"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "CX.4 / (CX.4,CX.9,CX.10)"
          },
          {
            "identity": "rim",
            "map": "II.assigningAuthorityName but note that this is an improper use by the definition of the field.  Also Role.scoper"
          },
          {
            "identity": "servd",
            "map": "./IdentifierIssuingAuthority"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.recorder",
        "short": "Who recorded the sensitivity",
        "definition": "Individual who recorded the record and takes responsibility for its conten.",
        "alias": [
          "Author"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "rim",
            "map": ".participation[typeCode=AUT].role"
          },
          {
            "identity": "w5",
            "map": "who.author"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.patient",
        "short": "Who the sensitivity is for",
        "definition": "The patient who has the allergy or intolerance.",
        "alias": [
          "Patient"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "(PID-3)"
          },
          {
            "identity": "rim",
            "map": ".participation[typeCode=SBJ].role[classCode=PAT]"
          },
          {
            "identity": "w5",
            "map": "who.focus"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.reporter",
        "short": "Source of the information about the allergy",
        "definition": "The source of the information about the allergy that is recorded.",
        "comments": "The recorder takes repsonsibility for the content, but can reference the source from where they got it.",
        "alias": [
          "Source",
          "Informant"
        ],
        "min": 0,
        "max": "0",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-related-person"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "IAM-14 (if patient) / IAM-18 (if practitioner)"
          },
          {
            "identity": "w5",
            "map": "who.source"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.substance",
        "short": "Substance, (or class) considered to be responsible for risk",
        "definition": "Identification of a substance, or a class of substances, that is considered to be responsible for the adverse reaction risk.",
        "comments": "It is strongly recommended that the substance be coded where possible. Plain text should only be used if there is no appropriate terminology available. In addition, a SNOMED AllergyCode may be sent where a direct substance mapping is not available in the source system.",
        "alias": [
          "Agent"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "TypeName": "CodeableConcept",
            "code": "CodeableConcept"
          }
        ],
        "isSummary": true,
        "binding": {
          "strength": 3,
          "description": "Type of the substance and Negation codes for reporting no known allergies.",
          "Item": {
            "reference": "http://hl7.org/fhir/ValueSet/allergyintolerance-substance-code"
          }
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "AL1-3 / IAM-3"
          },
          {
            "identity": "w5",
            "map": "what"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.substance.coding.extension",
        "slicing": {
          "discriminator": [
            "url"
          ],
          "rules": 2
        }
      },
      {
        "path": "AllergyIntolerance.substance.coding.extension",
        "name": "qualifier",
        "short": "Coding Qualifier",
        "definition": "Used to qualify or indicate extra information about a coded value.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "TypeName": "Extension",
            "code": "Extension",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-coding-qualifier-extension"
            ]
          }
        ]
      },
      {
        "path": "AllergyIntolerance.note.author[x]",
        "short": "Individual responsible for the annotation",
        "definition": "The individual responsible for making the annotation.",
        "min": 0,
        "max": "0",
        "type": [
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-practitioner"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-patient"
            ]
          },
          {
            "TypeName": "Reference",
            "code": "Reference",
            "profile": [
              "http://endeavourhealth.org/fhir/StructureDefinition/primarycare-related-person"
            ]
          },
          {
            "TypeName": "string",
            "code": "string"
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "N/A"
          },
          {
            "identity": "rim",
            "map": "Act.participant[typeCode=AUT].role"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.note.time",
        "short": "When the annotation was made",
        "definition": "Indicates when this particular annotation was made.",
        "min": 0,
        "max": "0",
        "type": [
          {
            "TypeName": "dateTime",
            "code": "dateTime"
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "N/A"
          },
          {
            "identity": "rim",
            "map": "Act.effectiveTime"
          }
        ]
      },
      {
        "path": "AllergyIntolerance.note.text",
        "short": "The annotation - text content",
        "definition": "The text of the annotation.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "TypeName": "string",
            "code": "string"
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "N/A"
          },
          {
            "identity": "rim",
            "map": "Act.text"
          }
        ]
      }
    ]
  },
  "W5TopLevelGroup": "Clinical"
}