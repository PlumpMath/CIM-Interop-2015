<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Sandbox - Endeavour FHIR Interoperability Guide</title>

  <link href='swagger/css/reset.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='swagger/css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
  <link href='swagger/css/reset.css' media='print' rel='stylesheet' type='text/css'/>
  <link href='swagger/css/print.css' media='print' rel='stylesheet' type='text/css'/>

  <script src='swagger/lib/jquery-1.8.0.min.js' type='text/javascript'></script>
  <script src='swagger/lib/jquery.slideto.min.js' type='text/javascript'></script>
  <script src='swagger/lib/jquery.wiggle.min.js' type='text/javascript'></script>
  <script src='swagger/lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
  <script src='swagger/lib/handlebars-2.0.0.js' type='text/javascript'></script>
  <script src='swagger/lib/underscore-min.js' type='text/javascript'></script>
  <script src='swagger/lib/backbone-min.js' type='text/javascript'></script>
  <script src='swagger/swagger-ui.js' type='text/javascript'></script>
  <script src='swagger/lib/highlight.7.3.pack.js' type='text/javascript'></script>
  <script src='swagger/lib/marked.js' type='text/javascript'></script>
  <script src='swagger/lib/swagger-oauth.js' type='text/javascript'></script>

<!-- custom -->
  <link href='../styles/style.css' rel='stylesheet' />
  <link href='swagger-custom/style.css' media='screen' rel='stylesheet' type='text/css'/>
  <script src="cryptojs/rollups/hmac-sha256.js"></script>
  <script src="cryptojs/components/enc-base64.js"></script>
  <script src="swagger-custom/script.js"></script>
<!-- end custom -->

  <script type="text/javascript">
    $(function () {
      // Pre load translate...
      if(window.SwaggerTranslator) {
        window.SwaggerTranslator.translate();
      }
      window.swaggerUi = new SwaggerUi({
        url: "sandbox.json",
		docExpansion:"list",
        dom_id: "swagger-ui-container",
        supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
        onComplete: function(swaggerApi, swaggerUi)
		{
          if (typeof initOAuth == "function") 
		  {
            initOAuth(
			{
              clientId: "your-client-id",
              clientSecret: "your-client-secret",
              realm: "your-realms",
              appName: "your-app-name", 
              scopeSeparator: ","
            });
          }

          if(window.SwaggerTranslator) 
		  {
            window.SwaggerTranslator.translate();
          }

          $('pre code').each(function(i, e) 
		  {
            hljs.highlightBlock(e)
          });

          addApiKeyAuthorization();

/* custom */
          customScriptInitialize();
/* end custom */

        },
        onFailure: function(data) {
          log("Unable to Load SwaggerUI");
        },
        apisSorter: "alpha",

/* custom */
        showRequestHeaders: true
/* end custom */

      });

      function addApiKeyAuthorization(){
        var key = encodeURIComponent($('#input_apiKey')[0].value);
        if(key && key.trim() != "") {
            var apiKeyAuth = new SwaggerClient.ApiKeyAuthorization("api_key", key, "header");
            window.swaggerUi.api.clientAuthorizations.add("api_key", apiKeyAuth);
            log("added key " + key);
        }

/* custom */
        $('input[name=api_key]').val(key);
/* end custom */

      }

      $('#input_apiKey').change(addApiKeyAuthorization);

      // if you have an apiKey you would like to pre-populate on the page for demonstration purposes...
      /*
        var apiKey = "myApiKeyXXXX123456789";
        $('#input_apiKey').val(apiKey);
      */

      window.swaggerUi.load();

      function log() {
        if ('console' in window) {
          console.log.apply(console, arguments);
        }
      }
  });
  </script>
</head>

<body class="swagger-section">
		<div id="segment-header" class="segment">
			<div class="container">
				<a id="endeavour-logo" href="../">
					<img src="../images/endeavourlogo.png" alt="Endeavour Logo" />
				</a>
				<div id="fhir-status"></div>
				<div id="fhir-nav">
					<a id="fhir-logo" target="_blank" href="http://www.hl7.org/fhir/">
						<img src="../images/fhirlogo.png" alt="FHIR logo" />
					</a>
				</div>
			</div>
		</div>
        <div id="segment-navbar" class="segment">
            <div class="container">
                <a href="../overview.html">Overview</a>
				<a href="../profiles">Profiles</a>
				<a href="../api.html">API definition</a>
				<a href="../sandbox">Sandbox</a>
				<a href="../faq.html">FAQ</a>
				
				
				<form id='api_selector'>
					<div class='input'><input placeholder="http://example.com/api" id="input_baseUrl" name="baseUrl" type="text"/></div>
					<div class='input'><input placeholder='secret' id='input_privateKey' name='privateKey' type='password' /></div>
					<div class='input'><input placeholder="api key" id="input_apiKey" name="apiKey" type="text"/></div>
					<div class='input'><a id="explore" href="#" data-sw-translate>Explore</a></div>
				</form>
            </div>
			
			

        </div>
		<div id="segment-content" class="segment">
            <div class="container">
			
			<div class="sandbox-header">
				<h1>FHIR sandbox</h1>
				<p>To create an API key please <a href='http://cim.endeavourhealth.org/#register-for-api-key' target='blank'>register here</a>.</p>
				<p>Sample data and notes on usage can be <a href='usage-notes.html' target='_blank'>viewed here</a>.</p>
			</div>
			
<!-- swagger stuff -->			
<div id='header'>
	<div class="swagger-ui-wrap">
		<a id="logo" href="http://swagger.io">swagger</a>
		
	</div>
</div>

<div id="message-bar" class="swagger-ui-wrap" data-sw-translate>&nbsp;</div>
<div id="swagger-ui-container" class="swagger-ui-wrap"></div>
<!-- end swagger stuff -->			

		    </div>
        </div>
		<div id="segment-footer" class="segment">
            <div class="container">Â© Endeavour Health Charitable Trust 2016. All rights reserved.</div>
        </div>
	</body>


<body class="swagger-section">
<div id='header'>
  <div class="swagger-ui-wrap">
    <a id="logo" href="http://swagger.io">swagger</a>
    <form id='api_selector'>
      <div class='input'><input placeholder="http://example.com/api" id="input_baseUrl" name="baseUrl" type="text"/></div>
      <div class='input'><input placeholder="api key" id="input_apiKey" name="apiKey" type="text"/></div>
      <div class='input'><a id="explore" href="#" data-sw-translate>Explore</a></div>
    </form>
  </div>
</div>

</body>
</html>
